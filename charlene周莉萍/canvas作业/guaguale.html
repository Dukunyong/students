<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#canvas{
				background: green;
			}
			p{
				font-size: 40px;
				color: red;
				position: absolute;
				top: 400px;
				left: 120px;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="500" height="500"></canvas>
		<!--<p>恭喜你中奖啦</p>-->
		<script type="text/javascript">
			function Guaguale(){
				this.canvas = document.getElementById("canvas");
				this.ctx = this.canvas.getContext("2d");				
			}
			Guaguale.prototype={
				constructor : Guaguale,
				init:function(){
					this.ctx.beginPath();
					this.ctx.fillStyle = "grey";
					this.ctx.fillRect(100,400,300,100);
					this.ctx.restore();
					this.mousemove();
				},
				mousemove:function(){
					this_ = this;
					this.canvas.onmousemove=function(e){
						this_.e = e;
						this_.x = this_.e.pageX - this_.canvas.offsetLeft;
						this_.y = this_.e.pageY - this_.canvas.offsetTop;
						this_.ctx.globalCompositeOperation = "destination-out";
						
						this_.ctx.beginPath();
						this_.ctx.fillStyle="red";
						this_.ctx.fillRect(this_.x,this_.y,10,10);
					}
						
					
				}
			}
			
			var g = new Guaguale();
			g.init();
		</script>
	</body>
</html>
